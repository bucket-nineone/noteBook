# **TypeScript ä»‹ç»**

## TSç®€ä»‹

- **`TypeScript` ç®€ç§°ï¼šTSï¼Œæ˜¯ JavaScript çš„è¶…é›†**ï¼Œç®€å•æ¥è¯´å°±æ˜¯ï¼šJS æœ‰çš„ TS éƒ½æœ‰
- èƒŒæ™¯ï¼šJS çš„ç±»å‹ç³»ç»Ÿå­˜åœ¨â€œå…ˆå¤©ç¼ºé™·â€ï¼ŒJS ä»£ç ä¸­ç»å¤§éƒ¨åˆ†é”™è¯¯éƒ½æ˜¯ç±»å‹é”™è¯¯ï¼ˆUncaught TypeErrorï¼‰ 
- è¿™äº›ç»å¸¸å‡ºç°çš„é”™è¯¯ï¼Œå¯¼è‡´äº†åœ¨ä½¿ç”¨ JS è¿›è¡Œé¡¹ç›®å¼€å‘æ—¶ï¼Œå¢åŠ äº†æ‰¾ Bugã€æ”¹ Bug çš„æ—¶é—´ï¼Œä¸¥é‡å½±å“å¼€å‘æ•ˆç‡
- **ç®€å•æ¥è¯´å°±æ˜¯TSç»™JSæ·»åŠ ç±»å‹çº¦æŸ,è®©JSä¸å‡ºé”™,æå‡å¼€å‘æ•ˆç‡**



## TSä¸JSåŒºåˆ«

1. ä»ç¼–ç¨‹è¯­è¨€çš„åŠ¨é™æ¥åŒºåˆ†ï¼Œ**TypeScript å±äºé™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€**ï¼Œ**JavaScript å±äºåŠ¨æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€**
   - é™æ€ç±»å‹ï¼š**ç¼–è¯‘**æœŸåšç±»å‹æ£€æŸ¥
   - åŠ¨æ€ç±»å‹ï¼š**æ‰§è¡Œ**æœŸåšç±»å‹æ£€æŸ¥
2. ä»£ç ç¼–è¯‘å’Œä»£ç æ‰§è¡Œçš„é¡ºåºï¼š1 ç¼–è¯‘ 2 æ‰§è¡Œ

3. å¯¹äº JS æ¥è¯´ï¼šéœ€è¦ç­‰åˆ°ä»£ç çœŸæ­£å»æ‰§è¡Œï¼ˆruntimeï¼‰çš„æ—¶å€™æ‰èƒ½å‘ç°é”™è¯¯ï¼ˆæ™šï¼‰
4. å¯¹äº TS æ¥è¯´ï¼šåœ¨ä»£ç ç¼–è¯‘çš„æ—¶å€™ï¼ˆä»£ç æ‰§è¡Œå‰ï¼‰å°±å¯ä»¥å‘ç°é”™è¯¯ï¼ˆæ—©ï¼‰



## ä¸¤ä¸ªå·¥å…·åŒ…

```js
//npm i -g typescript-----æä¾›tsc æ–‡ä»¶å.tså‘½ä»¤,æŠŠtsç¼–è¯‘ä¸ºjs
//npm i -g ts-node@8.5.4---æä¾›ts-node æ–‡ä»¶å.tså‘½ä»¤,åœ¨nodeä¸­è¿è¡Œtsä»£ç 
```





# **TypeScript å¸¸ç”¨ç±»å‹**

> ```js
> åŸå§‹ç±»å‹:JSä¸­æœ¬æ¥å°±æœ‰çš„string,number....------->è¯­æ³•:'let age: number = 18'
> ```
>
> ```js
> æ•°ç»„ç±»å‹:è¯­æ³•: ç±»å‹[]è¡¨ç¤ºæ•°ç»„é‡Œé¢åªèƒ½æ˜¯è¿™ä¸ªç±»å‹
> ------>let list1: (number | string)[] = [123, 456, 'æç™½'];
> ```
>
> ```js
> å‡½æ•°ç±»å‹
> /**
>  * ä½œç”¨ï¼šç»™å‚æ•°å’Œè¿”å›å€¼ï¼ŒåŠ ä¸Šç±»å‹ä¿æŠ¤ã€‚ä½¿ç”¨æ›´åŠ ä¾¿æ·å’Œå®‰å…¨
>  * è¯­æ³•ï¼š
>  *  1. åˆ†å¼€æŒ‡å®š
>  *    function xxx(å½¢å‚1ï¼š ç±»å‹ï¼Œ å½¢å‚2ï¼š ç±»å‹): è¿”å›å€¼ç±»å‹{ ... }
>  *  2. åŒæ—¶æŒ‡å®š
>  *    type Xxx = (å½¢å‚1ï¼š ç±»å‹ï¼Œ å½¢å‚2ï¼š ç±»å‹) => è¿”å›å€¼ç±»å‹
>  *    ğŸ’¥ åªèƒ½ç”¨åœ¨è¡¨è¾¾å¼ä¸­
>  *
>  *  ç‰¹æ®Šï¼šè¿”å›å€¼ç±»å‹
>  *  TSä¸­ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼ç±»å‹æ˜¯void
>  *  JSä¸­ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼ç±»å‹æ˜¯undefined
>  *
>  *  å¯é€‰å‚æ•°ï¼š
>  *    1.å‚æ•°åç´§è·Ÿ?
>  *    2.å¯é€‰å‚æ•°ï¼Œè¦æ”¾åœ¨å¿…é¡»å‚æ•°ä¹‹å
>  */
> 
> 'åˆ†å¼€æŒ‡å®šå†™æ³•' ------>åé¢æ˜¯è¿”å›å€¼ç±»å‹,æ²¡æœ‰å¯ä»¥å†™voidæˆ–è€…ä¸å†™
> function add(a: number, b: number): number {
>   //numberè¿”å›å€¼ç±»å‹
>   return a + b;
> }
> 
> 'åŒæ—¶æŒ‡å®šå†™æ³•,åªèƒ½å†™åœ¨å‡½æ•°è¡¨è¾¾å¼èº«ä¸Š'
> type AddFn = (a?: number, b: number) => number;
> //åŠ äº†?å°±æ˜¯å¯é€‰å‚æ•°
> const add2: AddFn = (a, b) => {
>   return a + b;
> };
> ```
>
> ```js
> å¯¹è±¡ç±»å‹:å°±ç”¨ç±»å‹åˆ«å,å³typeè¯­æ³•
> //TS-----å¯¹è±¡ç±»å‹--æ™®é€šå¯¹è±¡
> type MyData = {
>   name: string;
>   age?: number; //?è¡¨ç¤ºå¯é€‰
>   gender: string;
> };
> 
> const formDate: MyData = {
>   name: 'æç™½',
>   age: 18,
>   gender: 'ç”·',
> };
> 
> //å†™æ–¹æ³•
> type Person = {
>   sayHello: (msg: string) => void;
> };
> 
> const zs: Person = {
>   sayHello: (msg) => [console.log(msg)],
> };
> ```
>
> ```js
> interfaceæ¥å£:
> // ä½œç”¨ï¼šåªèƒ½ç”¨æ¥æè¿°å¯¹è±¡ç»“æ„çš„æ•°æ®ç±»å‹
> // ğŸ‘ è§„èŒƒå†™æ³•ï¼šä½¿ç”¨å¤§å†™Iå¼€å¤´ï¼Œåé¢è·Ÿå¤§å†™å¼€å¤´çš„åç§°----
> 
> // ç‰¹ç‚¹ï¼š
> //  1. ğŸ””åŒåæ¥å£ï¼Œä¼šè‡ªåŠ¨åˆå¹¶-----
> //  2. å¯ä»¥å…ˆä½¿ç”¨åå®šä¹‰
> //  3. å¯ä»¥å®šä¹‰æ–¹æ³•ã€å¯é€‰å±æ€§ã€‚ç±»ä¼¼å¯¹è±¡ç±»å‹çš„å†™æ³•
> 
> interface IPerson {
>   name: string;
>   age: number;
> }
> 
> //ä¸ç±»å‹åˆ«åtypeçš„åŒºåˆ«
> 1.typeå¯ä»¥æè¿°ä»»æ„ç»“æ„,interfaceåªèƒ½æè¿°å¯¹è±¡
> 2.typeä¸å¯ä»¥ç»§æ‰¿,interfaceå¯ä»¥ç»§æ‰¿å¹¶åˆå¹¶
> 3.æœ‰typeç”¨type
> ```
>
> ```js
> // å…ƒç»„:ç‰¹æ®Šçš„æ•°ç»„
> // 1.æŒ‡æ˜é•¿åº¦,æŒ‡æ˜æ¯ä¸ªå…ƒç´ çš„ç±»å‹
> // 2.ä½¿ç”¨åœºæ™¯:ä½¿ç”¨æ›´ç²¾å‡†çš„ç±»å‹
> type Pointt = [number, number, string];
> 
> const list: Pointt = [12, 12, '12'];
> ```
>
> ```js
> /*
>   å­¦ä¹ ç›®æ ‡ï¼šå­—é¢é‡ç±»å‹
>   å­—é¢é‡ç±»å‹ï¼šå€¼ä½œä¸ºç±»å‹
>   åœºæ™¯ï¼š å¸¸å’Œè”åˆç±»å‹é…åˆï¼Œè¡¨ç¤ºä¸€ç»„å¯é€‰çš„å–å€¼èŒƒå›´
> */
> 
> //åªèƒ½æ˜¯è¿™ä¸¤ä¸ªçš„å…¶ä¸­ä¸€ä¸ª
> let str3: 'hello React' | 'hello 71'   è¦ä¸ = 'hello 71';,è¦ä¸='hello React'
> 
> //å­—é¢é‡è¿˜å¯ä»¥å†™ä»»æ„ç±»å‹,æ¯”å¦‚å¯¹è±¡
> type ActionType =
>   | { type: 'todo/del' }
>   | { type: 'todo/add' }
> function dispatch(action: ActionType) {
>   console.log('action  ----->  ', action);
> }
> //å½¢å‚åªèƒ½æ˜¯ActionTypeç±»å‹ä¸­çš„ä¸¤ä¸ª
> dispatch({ type: 'todo/del' });
> ```
>
> ```js
> æšä¸¾ç±»å‹:æ–‡å­—æšä¸¾å’Œæ•°å­—æšä¸¾
> 1. ä½¿ç”¨åœºæ™¯:è¡¨ç¤ºä¸€ç»„å¯é€‰çš„å–å€¼è¿”å›,ç±»ä¼¼:å­—é¢é‡+è”åˆç±»å‹
> 2. è¯­æ³•: enum xxx {é”®å='å€¼'}
> 3. ç‰¹ç‚¹:æ—¢å¯ä»¥å½“ç±»å‹ä½¿ç”¨,åˆå¯ä»¥å½“æ•°å€¼ä½¿ç”¨
> 
> //æ–‡å­—æšä¸¾
> //æšä¸¾çš„åç§°è¦å¼€å¤´å¤§å†™,é”®åè¦è¯­ä¹‰åŒ–
> enum Status {
>   UnPass = 'unpass',
>   Pass = 'pass',
>   Draft = 'Draft',
> }
> 
> //æ•°å­—æšä¸¾---å¯ä»¥çœç•¥,ä»ç¬¬ä¸€é¡¹å¼€å§‹é€’å¢,ç¬¬ä¸€é¡¹é»˜è®¤ä¸º0,æ‰€ä»¥ä¼šä»0,1,2.....é€’å¢
> //å¦‚æœä¸æƒ³ä»0å¼€å§‹,è®¾ç½®ç¬¬ä¸€é¡¹ä¸º10,å³ä¸º10,11,12
> enum Status {
> UnPass = 10,
>  Pass,
>  Draft,
> }
>   
> function publishArticle(status: Status) {
>   console.log('status  ----->  ', status);
>   return status;
> }
>     
> //ä½œä¸ºç±»å‹,çº¦æŸäº†resåªèƒ½è°ƒç”¨Status.è¯­æ³•é‡Œé¢æœ‰çš„
> let res: Status = publishArticle(Status.Draft);
> //ä½œä¸ºå€¼ä¹Ÿå¯ä»¥è¾“å‡º
> publishArticle(Status.Pass);
> ```
>
> ```js
> ç±»å‹æ–­è¨€:----->asè¯­æ³•
> // TSæ¨æ–­çš„ä¸å‡†ç¡®ï¼Œä¸å¤Ÿç²¾å‡†
> const aNode = document.getElementById('link') as HTMLAnchorElement;
> ```
>
> ```js
> typeofæ“ä½œç¬¦çš„ä½¿ç”¨
> ä½œç”¨ï¼šæå–ç±»å‹, å¤ç”¨ç±»å‹
> const obj={a:{b:{c{name:'123'}}}}
> 
> //æå–objçš„ç±»å‹å¹¶å¤ç”¨
> const obj2: typeof obj = {};
> ```

# **TypeScript é«˜çº§ç±»å‹---æ³›å‹**

## æ³›å‹----æ•è·æ•°æ®çš„ç±»å‹

- **æ³›å‹æ˜¯å¯ä»¥åœ¨ä¿è¯ç±»å‹å®‰å…¨å‰æä¸‹ï¼Œè®©å‡½æ•°ç­‰ä¸å¤šç§ç±»å‹ä¸€èµ·å·¥ä½œï¼Œä»è€Œå®ç°å¤ç”¨**ï¼Œå¸¸ç”¨äºï¼šå‡½æ•°ã€TS æ¥å£ã€Type ç±»å‹åˆ«åã€class ä¸­

```js
//Tå°±æ˜¯è¿”å›çš„ç±»å‹,é€šè¿‡ç±»å‹æ¨è®ºå¯ä»¥çœ‹å‡ºæ¥,è¿™é‡Œæ•è·äº†å½¢å‚valueçš„ç±»å‹
function fn<T>(value: T): T { return value }
```



## æ³›å‹å‡½æ•°è°ƒç”¨

```js
/*
  å­¦ä¹ ç›®æ ‡ï¼šæ³›å‹å‡½æ•°è°ƒç”¨
  æ­¥éª¤ï¼š
     1. ç®€å†™å’Œå®Œæˆå†™æ³•,æ¨èç®€å†™
     2. å½“ç±»å‹æ¨æ–­ä¸å‡†ç¡®æ—¶å¯ä»¥ç”¨å®Œæ•´å†™æ³•
     3. ä¸çŸ¥é“ç±»å‹æ˜¯ ä»€ä¹ˆ,å¯ä»¥ç”¨fn<any>
*/

//å®šä¹‰ä¸€ä¸ªæ³›å‹å‡½æ•°,ç”¨æ¥æ•è·ç±»å‹
function fn<T>(aa: T): T {
  return aa;
}
//å®šä¹‰ä¸€ç§ç±»å‹
type FormType = {
  title: string;
  age: number;
  images?: string[];
};

//é€šè¿‡è¯¥ç±»å‹å†™äº†ä¸€ä¸ªå¯¹è±¡
const res:FormType = {
  title: 'sdsd',
  age: 12,
};

//è¿™é‡Œè°ƒç”¨äº†fnæ³›å‹å‡½æ•°æ£€æŸ¥å¯¹è±¡çš„ç±»å‹,å¾—åˆ°äº†å¯¹è±¡ç±»å‹ä¸ºFormType
let msg1 = fn(res);


/*
  å­¦ä¹ ç›®æ ‡ï¼šåˆ›å»ºæ³›å‹å‡½æ•°çš„ç¬¬äºŒç§å†™æ³•
*/

type FnType = <T>(aa: T) => T;

const fn1: FnType = (aa) => {
  return aa;
};
//åœ¨è°ƒç”¨æ³›å‹å‡½æ•°æ—¶ï¼Œå¯ä»¥çœç•¥ `<ç±»å‹>` æ¥ç®€åŒ–æ³›å‹å‡½æ•°çš„è°ƒç”¨
let msg2 = fn1('123');
```



## æ³›å‹----æŒ‡å®šæ›´è¯¦ç»†çš„å‚æ•°ç±»å‹

```js
/*
  å­¦ä¹ ç›®æ ‡ï¼šæŒ‡å®šæ›´åŠ è¯¦ç»†çš„å‚æ•°ç±»å‹
  æ€»ç»“ï¼šTä»£è¡¨çš„æ˜¯æ•è·çš„ç±»å‹ï¼ŒğŸ””å®ƒå¯ä»¥å’Œä»»æ„ç±»å‹è¿›è¡Œç»„åˆä½¿ç”¨                                                                                                                  
   :T[] è¡¨ç¤ºTç»„æˆçš„æ•°ç»„
   :{name: T}è¡¨ç¤ºï¼Œ nameçš„å€¼ç±»å‹ä¸ºTçš„å¯¹è±¡
   :[T, T]  è¡¨ç¤ºçš„æ˜¯Tç»„æˆçš„å…ƒç»„
*/


// éœ€æ±‚1 æ¥æ”¶ä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›å€¼ç±»å‹æ˜¯ï¼šå…ƒç´ çš„ç±»å‹
type FindFirstFnType = <T>(list: T[]) => T[];
//è¯¥ç±»å‹è§„å®šå½¢å‚è¦ä¼ å…¥ä¸€ä¸ªæ•°ç»„
const getFirst: FindFirstFnType = (list) => {
  return list;
};
//å¾—å‡ºmsg1çš„ç±»å‹ä¸º(string|number)[]
const msg1 = getFirst([1, 2, '3']);


// éœ€æ±‚2ï¼š ä¼ å…¥å¯¹è±¡ï¼Œå…·æœ‰nameé”®ï¼Œæ•è·nameå€¼çš„ç±»å‹ä½œä¸ºè¿”å›å€¼ç±»å‹
type FindNameFnType = <T>(aa: { name: T }) => T;
const getName: FindNameFnType = (obj) => {
  return obj.name;
};
//è§„å®šä¼ å…¥é”®ä¸ºnameçš„å¯¹è±¡,æ•è·é”®å€¼çš„ç±»å‹,åªè¦æŠŠTæ”¾åˆ°nameé‚£é‡Œå³å¯
const name1 = getName({ name: '123' });
const name2 = getName({ name: 123 });
```



## æ³›å‹-æŒ‡å®šè¯¦ç»†çš„è¿”å›å€¼ç±»å‹

```js
//æŒ‰ä¸‹é¢çš„è¾“å‡º,ä¼ å…¥å•¥ç±»å‹å°±æ•è·å•¥ç±»å‹,å°±æ˜¯æŠŠTå†™åˆ°è¿”å›å€¼é‡Œé¢
type FindSetName = <T>(value: T) => { name: T };
const setNameFn: FindSetName = (value) => {
  return { name: value };
};

const obj1 = setNameFn('123'); // {name: string}
const obj2 = setNameFn(123); // {name: number}
const obj3 = setNameFn(true); // {name: boolean}
const obj4 = setNameFn({ age: 123 }); // {name: {age: number} }
```

